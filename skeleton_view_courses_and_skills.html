<html>
<head>
    Get All Courses
</head>

<body>
    <div id="createLearningJourneyVue">

        <p>{{ message }}</p>
        
        <hr />
        <!-- Need to change variable for  -->
        <button type="button" v-on:click="getLearningJourney">Get Learning Journey Button</button> <br />
        <table border="black">
            <tr>
                <th> Course ID </th>
                <th> Course Name </th>
            </tr>
            <tr v-for="course in coursesAndSkills">
                <td>
                    {{ course.skill_id }}
                </td>
                <td>
                    {{ course.skill_name }}
                </td>
                <td>
                    {{ course.skill_desc }}
                </td>
                <td>
                    {{ course.course_name }}
                </td>
                <td>
                    {{ course.course_type }}
                </td>
                <td>
                    {{ course.course_desc }}
                </td>
            </tr>
        </table>
    </div>
</body>

</html>


<script src="JS/vue.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

<script>
    const createLearningJourneyVue = Vue.createApp({
        data() {
            return {
                role_name: '',
                role_desc: '',
                message: '',
                success_message: 'Role successfully created.',
                failure_message: 'Could not create role.',
                coursesAndSkills: [],
            }
        },
        
methods: {
    getLearningJourney() {
        axios.get("PHP/functionGetSkillsAndCourses.php")
            .then(response => {
            if (response.status == 200) {
                console.log(response.data);
                this.coursesAndSkills = response.data.records;
            }
            else {
                console.log("cannot retrieve");
            }
            })
            .catch(error => {
            console.log(error.message);
            });
    }
}

        
})

const vm = createLearningJourneyVue.mount("#createLearningJourneyVue")
</script>




<!-- 
methods: {
    getLearningJourney() {
        axios.get("PHP/functionGetLearningJourney.php")
            .then(response => {
            if (response.status == 200) {
                console.log(response.data);
                this.roles = response.data.records;
            }
            })
            .catch(error => {
            console.log(error.message);
            });
    }
} -->